 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TG-ANMOL-LINKS</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.3.5/shaka-player.ui.min.js"></script>
</head>
<body>

    <h2>TNT SPORTS 3</h2>
    <style>
        h2{text-align:center;
          }
        button{position: top-center;
               background-color:white;
              }
 </style>

    <!-- Video Player -->
    <video id="video" controls width="400"></video>

    <!-- Quality Selection -->
    <div>
        <label for="quality">Select Quality:</label>
        <select id="quality"></select>
    </div>

    <!-- Join Telegram Button -->
    <div>
        <a href="https://t.me/WPLLIVELINKS2025" target="_blank">
            <button>Join Telegram</button>
      </a>
        
    </div>
<style>
 button{position:center}
</style>
    <script>
        document.addEventListener("DOMContentLoaded", async function () {
            const video = document.getElementById("video");
            const qualitySelector = document.getElementById("quality");

            // Initialize Shaka Player
            shaka.polyfill.installAll();
            if (!shaka.Player.isBrowserSupported()) {
                alert("Shaka Player is not supported on this browser.");
                return;
            }

            const player = new shaka.Player(video);

            // Configure Shaka Player
            player.configure({
                streaming: {
                    bufferingGoal: 2,  // Buffer only 2 seconds before playing
                    rebufferingGoal: 1 // Minimum 1 second rebuffering delay
                },
                abr: {
                    enabled: false // Disable adaptive bitrate (ABR) for manual quality selection
                },
                drm: {
                    clearKeys: {
                        "4e993aa8c1f295f8b94e8e9e6f6d0bfe": "86a1ed6e96caab8eb1009fe530d2cf4f"
                    }
                }
            });

            try {
                await player.load("https://ottb.live.cf.ww.aiv-cdn.net/lhr-nitro/live/clients/dash/enc/lsdasbvglv/out/v1/bb548a3626cd4708afbb94a58d71dce9/cenc.mpd");
                console.log("Video loaded successfully.");

                // Populate Quality Options
                player.getVariantTracks().forEach(track => {
                    let option = document.createElement("option");
                    option.value = track.id;
                    option.textContent = `${track.height}p`;
                    qualitySelector.appendChild(option);
                });

                // Change Quality on Selection
                qualitySelector.addEventListener("change", function () {
                    player.selectVariantTrack(
                        player.getVariantTracks().find(track => track.id == qualitySelector.value),
                        true
                    );
                });

            } catch (e) {
                console.error("Error loading video", e);
            }
        });
    </script>

</body>
</html>
